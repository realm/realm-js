# --------------------
# Description of file:
# --------------------
# List all the unique names of what to opt in to from the general spec.
#
# The following can be listed:
# * `classes` and their `methods`
#   * Methods, static methods, constructors, and properties in the general `spec.yml`
#     should all be listed in this opt-in list as `methods`.
# * `records` and their `fields`
#
# If all methods in a class, or all fields of a record, are opted out of,
# the entire class/record should be removed.

records:
  Property:
    fields:
      - name
      - public_name
      - type
      - object_type
      - link_origin_property_name
      - is_primary
      - is_indexed
      - is_fulltext_indexed
      - column_key

  ObjectSchema:
    fields:
      - name
      - persisted_properties
      - computed_properties
      - primary_key
      - table_key
      - table_type

  RealmConfig:
    fields:
      - path
      - cache
      - encryption_key
      - fifo_files_fallback_path
      - in_memory
      - schema
      - schema_version
      - schema_mode
      - disable_format_upgrade
      - migration_function
      - initialization_function
      - should_compact_on_launch_function
      - automatically_handle_backlinks_in_migrations

  ObjectChangeSet:
    fields:
      - is_deleted
      - changed_columns

  CollectionChangeSet:
    fields:
      - deletions
      - insertions
      - modifications
      - modifications_new

  DictionaryChangeSet:
    fields:
      - deletions
      - insertions
      - modifications

  BindingContext:
    fields:
      - did_change
      - before_notify
      - schema_did_change

  GeoBox:
    fields:
     - lo
     - hi

  GeoPolygon:
    fields:
     - points

  GeoCircle:
    fields:
     - center
     - radius_radians

  GeoPoint:
    fields:
     - latitude
     - longitude
     - altitude

classes:
  ######################
  # FROM JS EXTRA SPEC #
  ######################

  # These JsPlatformHelpers are used for React Native.
  JsPlatformHelpers:
    methods:
      - default_realm_file_directory
      - set_default_realm_file_directory
      - ensure_directory_exists_for_file
      - copy_bundled_realm_files
      - remove_realm_files_from_directory
      - remove_file
      - remove_directory
      - exclude_from_icloud_backup
      - get_cpu_arch

  #####################
  # FROM GENERAL SPEC #
  #####################

  Helpers:
    methods:
      - get_table
      - get_keypath_mapping
      - results_append_query
      - make_object_notifier
      - set_binding_context
      - get_or_create_object_with_primary_key
      - delete_data_for_object
      - base64_decode
      - make_logger_factory
      - make_logger
      - consume_thread_safe_reference_to_shared_realm
      - file_exists
      - get_results_description
      - needs_file_format_upgrade

  LogCategoryRef:
    methods:
      - set_default_level_threshold
      - get_category

  Logger:
    methods:
      - set_default_logger

  ConstTableRef:
    methods:
      - get_key
      - get_column_type
      - get_link_target
      - get_object
      - try_get_object
      - query
      - find_primary_key

  TableRef:
    methods:
      - create_object
      - remove_object
      - get_link_target
      - clear
      - get_primary_key_column

  Obj:
    methods:
      - is_valid
      - get_table
      - get_key
      - get_any
      - set_any
      - set_collection
      - add_int
      - get_linked_object
      - get_backlink_count
      - get_backlink_view
      - create_and_set_linked_object

  Timestamp:
    methods:
      - make
      - get_seconds
      - get_nanoseconds

  ObjLink:
    methods:
      - get_table_key
      - get_obj_key

  Query:
    methods:
      - get_table
      - get_description

  Results:
    methods:
      - from_table
      - from_table_view
      - is_valid
      - get_query
      - get_object_type
      - get_type
      - size
      - index_of
      - index_of_obj
      - get_obj
      - get_any
      - get_list
      - get_dictionary
      - sort_by_names
      - snapshot
      - max
      - min
      - average
      - sum
      - clear
      - add_notification_callback

  Realm:
    methods:
      - get_shared_realm
      - get_schema_version
      - config
      - schema
      - schema_version
      - is_in_transaction
      - is_in_migration
      - is_closed
      - is_empty
      - begin_transaction
      - commit_transaction
      - cancel_transaction
      - update_schema
      - compact
      - convert
      - verify_open
      - create_key_path_array
      - close
      # JS-specific
      - DOLLAR_addr
      - DOLLAR_resetSharedPtr

  RealmCoordinator:
    methods:
      - clear_all_caches

  ObjectNotifier:
    methods:
      - add_callback

  NotificationToken:
    methods:
      - for_object
      - unregister

  Collection:
    methods:
      - get_object_schema
      - get_type
      - size
      - is_valid
      - get_any
      - as_results
      - snapshot

  List:
    methods:
      - make
      - get_obj
      - get_list
      - get_dictionary
      - move
      - remove
      - remove_all
      - swap
      - delete_all
      - insert_any
      - insert_collection
      - insert_embedded
      - set_any
      - set_embedded
      - set_collection

  Set:
    methods:
      - make
      - get_obj
      - insert_any
      - remove_any
      - remove_all
      - delete_all

  Dictionary:
    methods:
      - make
      - get_keys
      - get_values
      - get_list
      - get_dictionary
      - contains
      - add_key_based_notification_callback
      - insert_any
      - insert_embedded
      - insert_collection
      - try_get_any
      - remove_all
      - try_erase

  Geospatial:
    methods:
    - make_from_circle
    - make_from_box
    - make_from_polygon
